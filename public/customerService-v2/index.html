<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>clink</title>
</head>
<body>
  <button id="btn1">open customer service</button>
  <button id="btn2" style="display: none">send product</button>
  <button id="btn3" style="display: none">send order</button>
</body>
<script src="https://webchat-bj.clink.cn/clink-chat-api.js"></script>
<script>

  const link = `https://webchat-sh.clink.cn/webchat.js` // The script link used for the customer service plugin, please set it in the configuration file

  document.getElementById('btn1').onclick = () => {
      ClinkChatWeb.openSessionWindow()
  }
  document.getElementById('btn2').onclick = () => {
      ClinkChatWeb.openSessionWindow()
      ClinkChatWeb.sendVisitorMsg({
          type: 'text',
          content: 'I want to inquire about this product'
      })
      clinkWebchatOptions({
          accessId: 'dfbf33f6-5f4e-4b30-b08d-6a4ce2ab3196',
          linkCard: JSON.stringify({
              title: "【123段可选】御宝恩蓓护婴幼儿配方羊奶粉小听100g 新国标(支持七天无理由退货)",
              // subTitle: "醇香 || 1-3岁3段100g",
              // description: "here is description",
              // price: "￥5.14",
              // priceStyle: {'font-size': '14px', 'color': '#4385ff'},
              img: "https://akmer.aikucun.com/merchant-platform/f683253ce33fb11e161ae502bb6926bf009f9456_1698918544066_37.jpg",
              // url: "https://www.baidu.com",
              // subUrl: "https://www.baidu.com",
              // time: "2021-10-26 11:10:12",
              // buttonText: "发送",
              // tabMenuName: "自定义菜单",
              // extraInfo: [
              //     { name: "自定义字段1", value: "1" },
              //     { name: "自定义字段2", value: "2" },
              //     { name: "自定义字段3", value: "3" },
              //     { name: "自定义字段4", value: "4" },
              //     { name: "自定义字段5", value: "5" }
              // ]
          })
      })
  //     ClinkChatApi.setIframeCard("tinet-chat-iframe", {
  //         title: "【123段可选】御宝恩蓓护婴幼儿配方羊奶粉小听100g 新国标(支持七天无理由退货)",
  //         // subTitle: "醇香 || 1-3岁3段100g",
  //         // description: "here is description",
  //         // price: "￥5.14",
  //         // priceStyle: {'font-size': '14px', 'color': '#4385ff'},
  //         img: "https://akmer.aikucun.com/merchant-platform/f683253ce33fb11e161ae502bb6926bf009f9456_1698918544066_37.jpg",
  //         // url: "https://www.baidu.com",
  //         // subUrl: "https://www.baidu.com",
  //         // time: "2021-10-26 11:10:12",
  //         // buttonText: "发送",
  //         // tabMenuName: "自定义菜单",
  //         // extraInfo: [
  //         //     { name: "自定义字段1", value: "1" },
  //         //     { name: "自定义字段2", value: "2" },
  //         //     { name: "自定义字段3", value: "3" },
  //         //     { name: "自定义字段4", value: "4" },
  //         //     { name: "自定义字段5", value: "5" }
  //         // ]
  //         })
  // }
  // document.getElementById('btn3').onclick = () => {
  //     ClinkChatWeb.openSessionWindow()
  //     ClinkChatWeb.sendVisitorMsg({
  //         type: 'text',
  //         content: 'I want to inquire about this order'
  //     })
  }
  function initSdk (win, doc, src, opt) {
      win[opt] = win[opt] || function () {
          win[opt].options = arguments[0]
      };
      var script = doc.createElement("script");
      script.async = 1;
      script.src = src;
      doc.body.appendChild(script);

      clinkWebchatOptions({
          accessId: 'a707488d-4757-4c7f-839f-e0c85a45eb97', // The accessId used by the customer service plugin, please set it in the configuration file
          visitorId: "0001", // userInfo.id; If not logged in, ignore it
          visitorName: "访客", // userInfo.username; If not logged in, ignore it
          tel: "tel-number", // userInfo.mobileArea + userInfo.mobile; If not logged in, ignore it
          replyWelcome: "welcome to wooha", // Welcome message after the user opens the customer service pop-up
          headerDisplay: "1", // Do not display when the value equals "0"
          visitorTag: "", // At most three characters can be displayed to mark the user
          language: "zh_CN",  // CN:zh_CN  CN-TR:zh_TW  EN:en_US
          // customerFields: encodeURIComponent(JSON.stringify({
          //     yourNumberCustomerField: 0,
          //     yourStringCustomerField: "stringValue",
          //     autoUpdate: 1
          // })),
          // visitorExtraInfo: encodeURIComponent(JSON.stringify({
          //     yourNumberCustomerField: 0,
          //     yourStringCustomerField: "stringValue",
          // })),
      });
  }

  initSdk(window, document, `${link}?v=`+Date.now(), 'clinkWebchatOptions')


</script>

</html>